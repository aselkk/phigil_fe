<div class="flex min-w-0 flex-auto flex-col">
    <fuse-loading-bar setAutoMode="true"></fuse-loading-bar>
    <!-- Main -->
    <div class="flex-auto p-6 sm:p-10">
        <!-- CONTENT GOES HERE -->
        <div class="h-full rounded-2xl border-2 border-dashed border-gray-300">
            <div
                class="flex h-full min-w-0 flex-col items-center justify-center p-6"
            >
                <div class="mb-8 text-center">
                    <h2 class="text-2xl font-semibold text-gray-800">
                        Welcome to the Compare Page!
                    </h2>
                    <p class="mt-2 text-gray-600">
                        Please follow the instructions below to upload your
                        photo and complete the comparing process.
                    </p>
                </div>
                <div class="prose prose-sm w-full max-w-md">
                    <div
                        class="mb-4 rounded-lg border border-blue-200 bg-blue-50 p-4"
                    >
                        <h3 class="text-lg font-semibold text-blue-700">
                            Photo Upload Instructions:
                        </h3>
                        <ul class="list-disc pl-5 text-blue-600">
                            <li>
                                Ensure faces are clearly visible and well-lit.
                            </li>
                            <li>Avoid uploading images with multiple faces.</li>
                            <li>Make sure faces are centered in the frame.</li>
                        </ul>
                    </div>

                    <form
                        [formGroup]="uploadForm"
                        (ngSubmit)="onSubmit()"
                        class="bg-card mx-auto mt-8 flex w-full flex-col overflow-hidden rounded-2xl p-8 pb-4 shadow sm:max-w-sm"
                    >
                        <div class="flex flex-col space-y-4">
                            <mat-form-field class="flex-auto">
                                <mat-label>Team</mat-label>
                                <input matInput formControlName="team" />
                            </mat-form-field>

                            <input
                                type="file"
                                id="files"
                                (change)="onFileSelected($event)"
                                style="display: none"
                            />
                            <button
                                type="button"
                                mat-flat-button
                                [color]="'accent'"
                                (click)="triggerFileInput()"
                                class="mb-3 flex items-center"
                            >
                                <mat-icon
                                    [svgIcon]="'heroicons_outline:plus'"
                                ></mat-icon>
                                <span class="ml-2 mr-1">
                                    {{
                                        selectedFile
                                            ? 'Change photo'
                                            : 'Upload photo'
                                    }}
                                </span>
                            </button>
                            <img
                                *ngIf="filePreview"
                                [src]="filePreview"
                                alt="Selected Image"
                                class="mt-4 w-60 rounded-md border"
                            />
                            <button
                                mat-raised-button
                                [color]="'primary'"
                                type="submit"
                                [disabled]="!uploadForm.valid || !selectedFile"
                            >
                                Submit
                            </button>
                            <fuse-alert
                                *ngIf="showAlert"
                                class="m-8"
                                [appearance]="'fill'"
                                [showIcon]="false"
                                [type]="alert.type"
                            >
                                {{ alert.message }}
                            </fuse-alert>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
